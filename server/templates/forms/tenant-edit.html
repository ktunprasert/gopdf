{{define "form_body"}}
<form id="edit_tenant">
    <div class="field">
        <label class="label">Name</label>
        <div class="control">
            <input value="{{.Tenant.Name}}" class="input" name="name" type="text" placeholder="e.g Alex Smith" />
        </div>
    </div>

    <div class="field">
        <label class="label">Address1</label>
        <div class="control">
            <input value="{{.Tenant.Address1}}" class="input" name="address1" type="text" />
        </div>
    </div>

    <div class="field">
        <label class="label">Address2</label>
        <div class="control">
            <input value="{{.Tenant.Address2}}" class="input" name="address2" type="text" />
        </div>
    </div>

    <div class="field">
        <label class="label">Telephone</label>
        <div class="control">
            <input value="{{.Tenant.Telephone}}" class="input" name="telephone" type="text" />
        </div>
    </div>

    <div class="field">
        <label class="label">Taxcode</label>
        <div class="control">
            <input value="{{.Tenant.Taxcode}}" class="input" name="taxcode" type="text" />
        </div>
    </div>

    <div class="field">
        <label class="label">Background Color</label>
        <div class="control">
            <input value="{{.Tenant.BackgroundColor}}" class="input" name="backgroundcolor" type="color" />
        </div>
    </div>

    <div class="field">
        <div class="control">
            <label class="label">
                {{if .Tenant.MultiplePages}}
                <input checked class="" name="multiplepages" type="checkbox" />
                {{else}}
                <input class="" name="multiplepages" type="checkbox" value="true"/>
                {{end}}
                Multiple Pages
            </label>
        </div>
    </div>

    <div class="field is-grouped">
        <input name="_id" type="hidden" value="{{.Tenant.Id}}">
        <div class="control">
            <button class="button is-link">Submit</button>
        </div>
    </div>
</form>

<script>
    $('#edit_tenant').on('submit', (e) => {
        e.preventDefault();
        console.log(e);
        const data = new FormData(e.target);
        const payload = Object.fromEntries(data.entries());
        if (data.get('multiplepages') === 'true') {
            payload.multiplepages = true;
        }

        console.log(payload);
        axios
            .put('/api/tenant/{{.TenantId}}/', payload)
            .then((res) => {
                location.reload();
            })
            .catch((err) => {
                console.log('err', err);
            });
    })
</script>
{{end}}
